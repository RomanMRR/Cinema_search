# Kinopoisk parser

üî• –ü–∞—Ä—Å–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ 1000 —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–∏–ª—å–º–∞—Ö üî•

–°—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –¥–∞–Ω–Ω—ã–µ


| –ù–æ–º–µ—Ä –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ | –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º | –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º | –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ | –†–µ–π—Ç–∏–Ω–≥ –∫–∏–Ω–æ–ø–æ–∏—Å–∫–∞ |
|------------------|---------------------|------------------------|-------------|--------------------|

–ü–∞—Ä—Å–µ—Ä —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ **Scrapy**

–û–¥–Ω–æ–π –∏–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏ —Å—á–∏—Ç—ã–≤–∞–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –±—ã–ª–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ—Ç –∫–∏–Ω–æ–ø–æ–∏—Å–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –≤—ã–¥–∞–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Ä–æ–±–æ—Ç–∞.
–î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã —è –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –ø–∞–∫–µ—Ç–æ–º **scrapy-user-agents**, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç User-Agent. –ê —Ç–∞–∫–∂–µ
–ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–∏—Å–∞–º–∏ –æ—Ç [ScrapeOps](https://scrapeops.io/proxy-aggregator/).

–í —Ñ–∞–π–ª–µ film.csv —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞.

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞
### –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞


–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ —É —Å–µ–±—è –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –ø—Ä–æ–¥–µ–ª–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π 
```
git clone https://github.com/RomanMRR/Cinema_search.git
```
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
```
cd Cinema_search/bestmovies/
```
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã
```
pip install -r requirements.txt
```
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
```
python go-spider.py
```

–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Ñ–∞–π–ª–µ csv –≤ –ø–∞–ø–∫–µ `Cinema_search/bestmovies/data`

### –ó–∞–ø—É—Å–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π 
```
git clone https://github.com/RomanMRR/Cinema_search.git
```
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
```
cd Cinema_search/bestmovies/
```
–ó–∞–ø—É—Å—Ç–∏—Ç–µ
```
docker-compose up 
```
–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –æ —Ñ–∏–ª—å–º–∞—Ö –≤—ã–ø–æ–ª–Ω–∏—Ç–µ
```
docker cp bestmovies:/usr/src/app/data .
```
–ù—É–∂–Ω—ã–π csv —Ñ–∞–π–ª –±—É–¥–µ—Ç –≤ –ø–∞–ø–∫–µ data

### –°–º–µ–Ω—è –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä, —Ç–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ API –∫–ª—é—á –≤ —Ñ–∞–π–ª–µ `Cinema_search/bestmovies/bestmovies/.env`. –ê —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –µ–≥–æ —Ä–∞–±–æ—Ç—É –≤ —Ñ—É–Ω–∫—Ü–∏–µ `get_proxy_url` –≤ —Ñ–∞–π–ª–µ `–°inema_search\bestmovies\bestmovies\spiders\film_spider.py`.

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ScrapeOps, –Ω–æ —Ç–æ–ª—å–∫–æ —Å–æ —Å–≤–æ–∏–º API –∫–ª—é—á–æ–º, —Ç–æ–≥–¥–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–ø–∏—à–∏—Ç–µ —Å–≤–æ–π API –∫–ª—é—á –≤ —Ñ–∞–π–ª–µ `Cinema_search/bestmovies/bestmovies/.env`.











